<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Config 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.zp.dao.UserDao">

    <select id="findAll" resultType="user">
        select * from vue_user;
    </select>

 <insert id="saveUser" parameterType="user">
     insert into vue_user values (#{id},#{name},#{age},#{salary},#{phone});
 </insert>


    <delete id="deleteUser" parameterType="String">
        delete from vue_user where id=#{id};
    </delete>

    <select id="findUserById" resultType="user" parameterType="String">
        select * from vue_user where id=#{id};
    </select>

    <update id="updateUser" parameterType="user">
        update vue_user set name=#{name},age=#{age},salary=#{salary},phone=#{phone} where id=#{id};
    </update>

    <select id="findNameOrPhone" resultType="user">
        select * from vue_user
        <where>
         <if test="name!=''">
             name like concat(#{name},'%')
         </if>
         <if test="phone!=''">
            or phone like concat('%',#{phone},'%')
         </if>
        </where>
    </select>
</mapper>
